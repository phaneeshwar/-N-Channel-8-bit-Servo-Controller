`include "clog2.v"
module servomotor8bit #(
     parameter min_duty_cycle = 0.0005,
	  parameter timeperiod = 0.02,
	  parameter required_clk_frequency = 128_000,
	  parameter n_channels = 4,
	  parameter clk_frequency = 50_000_000
	  parameter nbits = `clog2(n_channels)
	  )(
	  input [nbits-1:0] address,
	  input clk,
	  input [7:0] dutycycle,
	  output [n_channels-1:0] PwmOut
	  );
// 
//localparam integer clkcycle = clk_frequency / required_clk_frequency;
localparam integer ceil_clkcycle = ((clk_frequency + required_clk_frequency - 1) / required_clk_frequency); 

always @(clk_frequency or required_clk_frequency) begin

if (ceil_clkcycle % 2 == 0 ) begin
    clkcycle <= ceil_clkcycle;
	 end
else begin
    clkcycle <= ceil_clkcycle - 1;

	  
	  